CREATE DATABASE jobboard CHARACTER SET utf8 COLLATE utf8_general_ci;
USE jobboard;
CREATE TABLE `login` (`id` int PRIMARY KEY AUTO_INCREMENT, `email` varchar(255) NOT NULL UNIQUE, `password` varchar(255), `type` int);
INSERT INTO login (email, password, type) VALUES ('mark@gmail.com', '$2b$10$N4Ihib1Ifx4KpmBPncfdUu2kSRYq1CCx2T9t.RTd2V3d6tFOqtQxG', 1);
INSERT INTO login (email, password, type) VALUES ('jac@gmail.com', '$2b$10$14G4/4AmTPUj1XOrz4EOpOLnn8bIHbv0QE.TGUOzp0JR6kL4KkaR.', 1);
INSERT INTO login (email, password, type) VALUES ('angus@gmail.com', '$2b$10$Fm7E3lsr1WXkfm5rbQVGfu4c8.G61R9sTYwW9DYjjDDu0Ptxfle6q', 1);
INSERT INTO login (email, password, type) VALUES ('bruce@gmail.com', '$2b$10$wEbb5zH3LgZMjD4SCu2YLOJYhj4CiI5MmAOJrjMMvlxMbWwWgqwNK', 2);
INSERT INTO login (email, password, type) VALUES ('bob@gmail.com', '$2b$10$1TgFmNoh/gUEWx9NRQxQj.OGrA3/G8xR20Ghz/4Wu8QsYeTcXeZjS', 2);
INSERT INTO login (email, password, type) VALUES ('zigi@gmail.com', '$2b$10$wfXnn8Mz18XJgIKoxahWQum3rMgFWToYc0ojnV6J3YUtWNz66X10W', 2);
INSERT INTO login (email, password, type) VALUES ('ubisoft@gmail.com', '$2b$10$4wFg/8s3eXkotvvkBnvIEertusc3DaUSV9SAnFhZhGL9fnXa2m6hq', 3);
INSERT INTO login (email, password, type) VALUES ('microsoft@gmail.com', '$2b$10$Py7AKlxIZpszV5uRkSt.lOmfhoeVEJpOD4iJyThPD5pCxV4zQmBwC', 3);
INSERT INTO login (email, password, type) VALUES ('facebook@gmail.com', '$2b$10$S5hVBYfuyz6uQ/o0a46pTed43bqriJfDCm8Ak0JvbwPRN14wwX91S', 3);
CREATE TABLE `users` (`id` int PRIMARY KEY AUTO_INCREMENT, `login_id` int, `first_name` varchar(255), `last_name` varchar(255), `created_at` date);
INSERT INTO users (login_id, first_name, last_name, created_at) VALUES (1, 'Mark', 'Knopfler', CURDATE());
INSERT INTO users (login_id, first_name, last_name, created_at) VALUES (2, 'Jack', 'Sparow', CURDATE());
INSERT INTO users (login_id, first_name, last_name, created_at) VALUES (3, 'Angus', 'Young', CURDATE());
INSERT INTO users (login_id, first_name, last_name, created_at) VALUES (4, 'Bruce', 'Springsteen', CURDATE());
INSERT INTO users (login_id, first_name, last_name, created_at) VALUES (5, 'Zigi', 'Marley', CURDATE());
INSERT INTO users (login_id, first_name, last_name, created_at) VALUES (6, 'Bob', 'Dylan', CURDATE());
CREATE TABLE `jobbers` (`id` int PRIMARY KEY AUTO_INCREMENT, `user_id` int, `cv` varchar(255), `linkedin` varchar(255), `web_site` varchar(255), `skills` varchar(255), `description` varchar(255));
INSERT INTO jobbers (user_id, cv, linkedin, web_site, skills, description) VALUES (1, './cv.pdf', 'https://linkedin.com', 'https://dire-straits.com', 'Guitar hero', 'my description');
INSERT INTO jobbers (user_id, cv, linkedin, web_site, skills, description) VALUES (2, './cv.pdf', 'https://linkedin.com', 'https://black-pearl.com', 'Pirate', 'my description');
INSERT INTO jobbers (user_id, cv, linkedin, web_site, skills, description) VALUES (3, './cv.pdf', 'https://linkedin.com', 'https://ac-dc.rock', 'Guitar hero', 'my description');
CREATE TABLE `activity_area` (`id` int PRIMARY KEY AUTO_INCREMENT, `activity_area_name` varchar(255));
INSERT INTO activity_area (activity_area_name) VALUES ('Conseil pour les affaires et autres conseils de gestion');
CREATE TABLE `companies` (`id` int PRIMARY KEY AUTO_INCREMENT, `login_id` int, `siren_number` int, `company_name` varchar(255), `logo` varchar(255), `cover` varchar(255), `localisation` varchar(255), `activity_area_id` int, `year_birth` year, `number_employees` int, `video` varchar(255), `description` varchar(255), `web_site` varchar(255), `linkedin` varchar(255), `facebook` varchar(255), `twitter` varchar(255), `created_at` date);
INSERT INTO companies (login_id, siren_number, company_name, logo, cover, localisation, activity_area_id, year_birth, number_employees, video, description, web_site, linkedin, facebook, twitter, created_at) VALUES (7, '501430532', 'UBISOFT INTERNATIONAL', 'ubisoft_logo.jpg', 'ubisoft_cover.webp', 'MONTREUIL', 1, '2007', 41, './video.mp4', 'my description', 'https://ubisoft.com', 'https://linkedin.com/ubisoft', 'https://facebook.com/ubisoft', 'https://twitter.com/ubisoft', CURDATE());
INSERT INTO companies (login_id, siren_number, company_name, logo, cover, localisation, activity_area_id, year_birth, number_employees, video, description, web_site, linkedin, facebook, twitter, created_at) VALUES (8, '327733184', 'MICROSOFT FRANCE', 'microsoft_logo.png', 'microsoft_cover.webp', 'ISSY-LES-MOULINEAUX', 1, '2009', 42, './video.mp4', 'my description', 'https://microsoft.com', 'https://linkedin.com/microsoft', 'https://facebook.com/microsoft', 'https://twitter.com/microsoft', CURDATE());
INSERT INTO companies (login_id, siren_number, company_name, logo, cover, localisation, activity_area_id, year_birth, number_employees, video, description, web_site, linkedin, facebook, twitter, created_at) VALUES (9, '530085802', 'FACEBOOK FRANCE', 'facebook_logo.png', 'facebook_cover.jpg', 'PARIS', 1, '2016', 22, './video.mp4', 'my description', 'https://facebook.com', 'https://linkedin.com/facebook', 'https://facebook.com/facebook', 'https://twitter.com/facebook', CURDATE());
CREATE TABLE `recruiters` (`id` int PRIMARY KEY AUTO_INCREMENT, `user_id` int, `company_id` int, `status` boolean);
INSERT INTO recruiters (user_id, company_id, status) VALUES (4, 1, TRUE);
INSERT INTO recruiters (user_id, company_id, status) VALUES (4, 2, TRUE);
INSERT INTO recruiters (user_id, company_id, status) VALUES (4, 3, TRUE);
INSERT INTO recruiters (user_id, company_id, status) VALUES (5, 1, FALSE);
INSERT INTO recruiters (user_id, company_id, status) VALUES (6, 2, TRUE);
CREATE TABLE `activity_field` (`id` int PRIMARY KEY AUTO_INCREMENT, `activity_field_name` varchar(255));
INSERT INTO activity_field (activity_field_name) VALUES ('Developpment');
CREATE TABLE `contract_type` (`id` int PRIMARY KEY AUTO_INCREMENT, `contract_type_name` varchar(255));
INSERT INTO contract_type (contract_type_name) VALUES ('CDD');
INSERT INTO contract_type (contract_type_name) VALUES ('CDI');
CREATE TABLE `job_announcement` (`id` int PRIMARY KEY AUTO_INCREMENT, `company_id` int, `job_name` varchar(255), `recruiter_id` int, `activity_field_id` int, `contract_type_id` int, `localisation` varchar(255), `job_start` date, `job_description` varchar(255), `additional_information` varchar(255), `missions` varchar(255), `profile` varchar(255), `salary` varchar(255), `vue` int, `created_at` date, `deleted` boolean);
INSERT INTO job_announcement (company_id, job_name, recruiter_id, activity_field_id, contract_type_id, localisation, job_start, job_description, additional_information, missions, profile, salary, vue, created_at, deleted) VALUES (1, 'Front Dev', 1, 1, 1, 'Bordeaux', '2020-10-20', 'job description', 'additional information', 'missions', 'your profile', '2500€/month', 1, CURDATE(), FALSE);
INSERT INTO job_announcement (company_id, job_name, recruiter_id, activity_field_id, contract_type_id, localisation, job_start, job_description, additional_information, missions, profile, salary, vue, created_at, deleted) VALUES (1, 'CDD - 12 mois - Project Management Office H/F', 1, 1, 1, 'Paris', '2020-10-25', 'job description', 'additional information', 'missions', 'your profile', '1800€/month', 1, CURDATE(), FALSE);
INSERT INTO job_announcement (company_id, job_name, recruiter_id, activity_field_id, contract_type_id, localisation, job_start, job_description, additional_information, missions, profile, salary, vue, created_at, deleted) VALUES (2, 'Back Dev', 2, 1, 2, 'Bordeaux', '2020-10-20', 'job description', 'additional information', 'missions', 'your profile', '2500€/month', 1, CURDATE(), FALSE);
INSERT INTO job_announcement (company_id, job_name, recruiter_id, activity_field_id, contract_type_id, localisation, job_start, job_description, additional_information, missions, profile, salary, vue, created_at, deleted) VALUES (2, 'Devops', 2, 1, 1, 'Bordeaux', '2020-10-20', 'job description', 'additional information', 'missions', 'your profile', '2500€/month', 1, CURDATE(), TRUE);
CREATE TABLE `job_applyment` (`id` int PRIMARY KEY AUTO_INCREMENT, `jobber_id` int, `job_id` int, `cv` varchar(255), `skills` varchar(255), `description` varchar(255), `created_at` date);
INSERT INTO job_applyment (jobber_id, job_id, cv, skills, description, created_at) VALUES (1, 1, './cv.pdf', 'Guitar hero', 'my description', CURDATE());
INSERT INTO job_applyment (jobber_id, job_id, cv, skills, description, created_at) VALUES (1, 2, './cv.pdf', 'Guitar hero', 'my description', CURDATE());
INSERT INTO job_applyment (jobber_id, job_id, cv, skills, description, created_at) VALUES (2, 3, './cv.pdf', 'Pirate', 'my description', CURDATE());
INSERT INTO job_applyment (jobber_id, job_id, cv, skills, description, created_at) VALUES (3, 1, './cv.pdf', 'Guitar hero', 'my description', CURDATE());
ALTER TABLE `jobbers` ADD FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;
ALTER TABLE `users` ADD FOREIGN KEY (`login_id`) REFERENCES `login` (`id`) ON DELETE CASCADE;
ALTER TABLE `recruiters` ADD FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;
ALTER TABLE `companies` ADD FOREIGN KEY (`login_id`) REFERENCES `login` (`id`) ON DELETE CASCADE;
ALTER TABLE `job_announcement` ADD FOREIGN KEY (`recruiter_id`) REFERENCES `recruiters` (`id`) ON DELETE CASCADE;
ALTER TABLE `recruiters` ADD FOREIGN KEY (`company_id`) REFERENCES `companies` (`id`) ON DELETE CASCADE;
ALTER TABLE `companies` ADD FOREIGN KEY (`activity_area_id`) REFERENCES `activity_area` (`id`) ON DELETE CASCADE;
ALTER TABLE `job_announcement` ADD FOREIGN KEY (`company_id`) REFERENCES `companies` (`id`) ON DELETE CASCADE;
ALTER TABLE `job_announcement` ADD FOREIGN KEY (`activity_field_id`) REFERENCES `activity_field` (`id`) ON DELETE CASCADE;
ALTER TABLE `job_applyment` ADD FOREIGN KEY (`jobber_id`) REFERENCES `jobbers` (`id`) ON DELETE CASCADE;
ALTER TABLE `job_applyment` ADD FOREIGN KEY (`job_id`) REFERENCES `job_announcement` (`id`) ON DELETE CASCADE;
ALTER TABLE `job_announcement` ADD FOREIGN KEY (`contract_type_id`) REFERENCES `contract_type` (`id`) ON DELETE CASCADE;
